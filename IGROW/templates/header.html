{% load static %}

{% block header %}
<style>
    @font-face {
      font-family: 'GmarketSansMedium';
      src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/GmarketSansMedium.woff') format('woff');
      font-weight: normal;
      font-style: normal;
  }
    ul{
      margin: 0;
      padding: 0;
    }
    header {
      height: 100px;
      max-width: 100%;
      position: relative; 
      font-family: 'GmarketSansMedium', sans-serif;
      top: 0px;
      margin-left: auto;
      align-items: center;
      z-index: 1;
      display: flex;
    }
    .menu-1 {
      display: flex;
      width:100%;
      height: inherit;
      padding: 0 40px;
    }
    nav{
      display: flex;
      align-items: center;
      justify-content: center;
      margin: auto;
    }
    nav > ul {
      display: flex;
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .opt {
      display: flex;
      flex-direction: column;
      color: black;
      font-size: 16px;
      transition: 0.2s;
      cursor: pointer;
    }
    .opt:hover > a{
      color: rgb(82, 108, 226);
      transition: 0.2s;
    }
    .opt > a {
      padding: 0 50px;
      height: 100px;
      justify-content: center;
      display: flex;
      align-items: center;
      font-size: 16px;
      color: black;
      text-decoration: none;
    }
    .opt > ul {
      display: block;
      position: absolute;
      top: 100px;
      list-style: none;
      padding: 10px 20px; /* 내부 여백 조정 */
      max-height: 0; /* 초기 높이를 0으로 설정 */
      overflow: hidden;
      transition: max-height 0.5s ease-out, opacity 0.5s ease-out;
      opacity: 0;
    }
    header:hover > ul {
      max-height: 300px; /* 충분한 높이 설정 */
      opacity: 1;
    }
    header:hover .opt > ul{
      display: block;
    }
    header:hover > .menu-1{
      background-color: rgba(0, 0, 0, 0.03);
      transition: 0.5s;
      height: 530px;
    }
    /* 선의 색상 및 스타일 */
    header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 1px; /* 선의 높이 설정 */
      background-color: rgba(0, 0, 0, 0.1); /* 연한 회색 */
    }
    .opt2{
      display: flex;
      padding:10px 10px;
      align-items:center;
      text-align: center;
      white-space: nowrap;
      margin-left: 20px;
    }
    .opt2 > a{
      font-size: 14px;
      color: black;
      text-decoration: none;
      position: relative; /* 가상 요소 배치를 위해 설정 */
    }
    .opt2:hover > a{
      color: rgb(226, 159, 82);
      transition: 0.2s;
    }
    .opt2 > a::after {
      content: ""; 
      position: absolute;
      left: 0;
      bottom: -3px; /* 밑줄 위치 조정 */
      width: 100%;
      height: 3px; /* 밑줄 두께 조정 */
      background-color: rgb(226, 159, 82); /* 밑줄 색상 */
      transform: scaleX(0); /* 초기 상태: 보이지 않음 */
      transition: transform 0.2s ease-in-out;
    }
    
    .opt2:hover > a::after {
      transform: scaleX(1); /* 마우스를 올리면 밑줄 표시 */
    }
    .opt.no-hover > a {
      color: black; /* hover 스타일 제거 */
    }
    header:hover >
    #dropdownbtn {
      width: 50px;
      height: 50px;
      right: 100px;
      background-color: gray;
      font-size: 25px;
      font-weight: bolder;
      border-radius: 10px;
      color: white;
      display: none;
      margin-right: auto;
      cursor: pointer;
    }
</style>

<header>
  <div class="menu-1">
    <div role="button" href="" style="margin-right: 65px; display: flex; align-items: center;" onclick="location.href='/'">
        <img src="{%static 'image/아이그로우로고.png'%}" style="width:auto; height:80px; cursor: pointer;">
    </div>
    <nav>
      <ul>
        <li class="opt"><a href="/aboutus/">회사소개</a>
          <ul>
            <li class="opt2"><a href="/aboutus/">인사말</a></li>
            <li class="opt2"><a href="/aboutus/">사업실적</a></li>
            <li class="opt2"><a href="/aboutus/">조직구성</a></li>
            <li class="opt2"><a href="/aboutus/">인증 및 보유시설</a></li>
            <li class="opt2"><a href="/aboutus/">오시는길</a></li>
          </ul>
        </li>    
        <li class="opt"><a href="/core/">핵심사업</a>
          <ul>
            <li class="opt2"><a href="/core/">대학 중장기</a></li>
            <li class="opt2"><a href="/core/">교육과정</a></li>
            <li class="opt2"><a href="/core/">조직개편</a></li>
            <li class="opt2"><a href="/core/">만족도조사</a></li>
          </ul>
        </li>
        <li class="opt"><a href="/core/">교육센터</a></li>
          <ul>
          </ul>
        <li class="opt"><a href="/core/">인재채용</a>
          <ul>
            <li class="opt2"><a href="/core/">인재상</a></li>
            <li class="opt2"><a href="/core/">복리후생</a></li>
            <li class="opt2"><a href="/core/">급여체계</a></li>
          </ul>
        </li>
        <li class="opt"><a href="/core/">Contact</a>
          <ul class="rightside">
            <li class="opt2"><a href="/core/">사업문의</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</header>

<script>


  const header = document.querySelector('header');
  const submenus = document.querySelectorAll('.opt > ul');
  
  header.addEventListener('mouseenter', () => {
      submenus.forEach((submenu, index) => {
          setTimeout(() => {
              submenu.style.maxHeight = submenu.scrollHeight + "px";
              submenu.style.opacity = "1";
          }); // 각 서브메뉴가 0.2초 간격으로 내려옴
      });
  });
  
  header.addEventListener('mouseleave', () => {
      submenus.forEach((submenu) => {
          submenu.style.maxHeight = "0px";
          submenu.style.opacity = "0";
          submenu.style.transition = "none"; // 사라질 때는 트랜지션 효과 제거
      });
  
      // 트랜지션 효과 다시 활성화 (다음번 슬라이딩을 위해)
      setTimeout(() => {
          submenus.forEach((submenu) => {
              submenu.style.transition = "max-height 0.5s ease-out, opacity 1s ease-out";
          });
      }, 10);
  });
  
</script>

{% endblock %}