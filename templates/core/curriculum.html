{% extends 'template.html' %}

{% block title %}핵심사업{% endblock %}

{% load static %}
{% block style %}
<link rel="stylesheet" href="{% static 'css/core/curriculum.css' %}">
{% endblock %}

{% block content %}
<div class="content">
    <div class="sub-visual">
        <div class="page-tit">
            <div class="inner">
                <p class="sub-text">아이그로우의 핵심사업을 소개합니다.</p>
                <h2 class="main-text">핵심사업</h2>
                <p class="sub-text2"></p>
            </div>
        </div>
    </div>
    </div>

    <section>
        <div class="tab-wrap anchor">
            <div class="tab-list-box">
                <ul class="tab-list renew">
                    <li class="on"><a href="#tab-longterm">대학 중장기</a></li>
                    <li><a href="#tab-curriculum">교육과정</a></li>
                    <li><a href="#tab-reorg">조직개편</a></li>
                    <li><a href="#tab-survey">만족도조사</a></li>
                </ul>
            </div>

            <div class="tab-contents">
                <div class="tab-panel active" id="tab-longterm" data-anchor="">
                    <div class="tit-area ac">
                        <h4 class="tit-h3 extra">대학 중장기</h4>
                        <div class="txt-xlg">대학 중장기에 대한 설명입니다. <br>
                            자세한 내용은 여기에 추가하세요.</div>
                    </div>

                    <div class="img-area">
                        <img src="{% static 'image/core/중장기.png' %}" alt="중장기">
                    </div>
                </div>

                <div class="tab-panel" id="tab-curriculum" data-anchor="">
                    <div class="tit-area ac">
                        <h4 class="tit-h3 extra">교육과정</h4>
                        <div class="txt-xlg">아이그로우의 교육과정에 대한 설명입니다. <br>
                            자세한 내용은 여기에 추가하세요.</div>
                    </div>

                    <div class="img-area">
                        <img src="{% static 'image/core/핵심.png' %}" alt="교육과정">
                    </div>
                </div>

                <div class="tab-panel" id="tab-reorg" data-anchor="">
                    <div class="tit-area ac">
                        <h4 class="tit-h3 extra">조직개편</h4>
                        <div class="txt-xlg">조직개편에 대한 설명입니다. <br>
                            <span class="bounce-text">
                                <span>현</span><span>재</span><span> </span><span>준</span><span>비</span><span>중</span><span>입</span><span>니</span><span>다</span><span>.</span>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="tab-panel" id="tab-survey" data-anchor="">
                    <div class="tit-area ac">
                        <h4 class="tit-h3 extra">만족도조사</h4>
                        <div class="txt-xlg">만족도조사에 대한 설명입니다. <br>
                            <span class="bounce-text">
                                <span>현</span><span>재</span><span> </span><span>준</span><span>비</span><span>중</span><span>입</span><span>니</span><span>다</span><span>.</span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
<script>
    function setActiveTabByHash() {
        const hash = window.location.hash || "#tab-longterm";
        const tabItems = document.querySelectorAll(".tab-list li");
        tabItems.forEach((li) => li.classList.remove("on"));
        const activeLink = document.querySelector(`.tab-list a[href="${hash}"]`);
        if (activeLink && activeLink.parentElement) {
            activeLink.parentElement.classList.add("on");
        }
    }

    document.addEventListener("DOMContentLoaded", function () {
        setActiveTabByHash();
        handleTabVisibility();
    });

    window.addEventListener("hashchange", function () {
        setActiveTabByHash();
    });

    function handleTabVisibility() {
        const tabBox = document.querySelector(".tab-list-box");
        if (!tabBox) return;
        const scrollY = window.scrollY + window.innerHeight;
        const docHeight = document.documentElement.scrollHeight;
        const nearBottom = docHeight - scrollY < 120;
        tabBox.classList.toggle("tab-hidden", nearBottom);
    }

    window.addEventListener("scroll", handleTabVisibility);
</script>

{% endblock %}
