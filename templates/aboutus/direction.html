{% extends 'template.html' %}

{% block title %}오시는길{% endblock %}

{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/aboutus/direction.css' %}">
{% endblock %}

{% block content %}
<div class="content">
    <div class="sub-visual">
        <div class="page-tit">
            <div class="inner">
                <p class="sub-text">아이그로우는 이곳에 위치합니다.</p>
                <h2 class="main-text">오시는 길</h2>
                <p class="sub-text2">회사소개 > 오시는 길</p>
            </div>
        </div>
    </div>
    
    <!-- 지도 + 회사 정보 컨테이너 -->
    <div class="map-container">
        <!-- 지도 -->
        <div id="map"></div>

        <!-- 회사 정보 -->
        <div class="info-box">
            <p><strong>주소:</strong> {{ address }}</p>
            <p><strong>TEL:</strong> 02-472-5002</p>
            <p><strong>Email:</strong> dpsheen@igrowkorea.com</p>
        </div>
    </div>
</div>

<!-- 네이버 지도 API -->
<script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId={{ NAVER_CLIENT_ID }}"></script>

<script>
    var latitude = {{ latitude|default:37.485314 }};  // 기본값 설정
    var longitude = {{ longitude|default:126.901123 }};

    if (!latitude || !longitude) {
        alert("지도 정보를 불러오지 못했습니다. 관리자에게 문의하세요.");
    } else {
        var mapOptions = {
            center: new naver.maps.LatLng(latitude, longitude), 
            zoom: 15
        };

        var map = new naver.maps.Map("map", mapOptions);

        // 마커 추가
        var marker = new naver.maps.Marker({
            position: new naver.maps.LatLng(latitude, longitude),
            map: map
        });

        // 인포윈도우 추가
        var infoWindow = new naver.maps.InfoWindow({
            content: '<div style="padding:5px;">아이그로우<br>용연빌딩 3층</div>'
        });

        infoWindow.open(map, marker);
    }
</script>
{% endblock %}